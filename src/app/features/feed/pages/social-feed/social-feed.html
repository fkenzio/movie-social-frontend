<app-navbar></app-navbar>

<div class="feed-container">
  <div class="feed-header">
    <h1>Feed Social</h1>
    <p>Bienvenido, <strong>{{ currentUser?.username }}</strong>! ğŸ‰</p>
  </div>

  <div class="feed-content">
    <!-- Post Card -->
    <div class="post-card" *ngFor="let post of posts">
      <!-- Post Header -->
      <div class="post-header">
        <div class="user-info">
          <div class="avatar">{{ post.user.avatar }}</div>
          <div class="user-details">
            <span class="username">{{ post.user.username }}</span>
            <span class="time">{{ post.time }}</span>
          </div>
        </div>
      </div>

      <!-- Post Content -->
      <div class="post-body">
        <!-- Review Post -->
        <div *ngIf="post.type === 'review'" class="post-review">
          <div class="movie-title">
            ğŸ¬ <strong>{{ post.movie }}</strong>
          </div>
          <div class="rating-display" *ngIf="post.rating">
            â­ {{ post.rating }}/10
          </div>
          <p class="post-text">{{ post.content }}</p>
        </div>

        <!-- Rating Post -->
        <div *ngIf="post.type === 'rating'" class="post-rating">
          <p class="post-text">
            CalificÃ³ <strong>{{ post.movie }}</strong>
          </p>
          <div class="rating-display large">
            â­ {{ post.rating }}/10
          </div>
        </div>

        <!-- List Post -->
        <div *ngIf="post.type === 'list'" class="post-list">
          <p class="post-text">{{ post.content }}</p>
          <div class="movie-chips">
            <span class="movie-chip" *ngFor="let movie of post.movies">
              {{ movie }}
            </span>
          </div>
        </div>
      </div>

      <!-- Post Footer -->
      <div class="post-footer">
        <button class="action-btn">
          â¤ï¸ {{ post.likes }}
        </button>
        <button class="action-btn">
          ğŸ’¬ {{ post.comments }}
        </button>
        <button class="action-btn">
          ğŸ”— Compartir
        </button>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div class="empty-state" *ngIf="posts.length === 0">
    <h2>No hay posts todavÃ­a</h2>
    <p>Empieza a seguir usuarios o califica pelÃ­culas para ver contenido aquÃ­</p>
  </div>
</div>